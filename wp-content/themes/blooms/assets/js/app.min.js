!function(r,i){"use strict";var o=r(document),e=r(i),a=r("body"),n=(r("#wpadminbar"),r(".click-capture")),c=r(".header"),s=r("#wrapper"),t=r("#mobile-menu"),l=(r(".mobile-toggle-holder"),{});l={thb_scrolls:{},h_offset:0,init:function(){var t,e,i=this;for(t in i)!i.hasOwnProperty(t)||void 0!==(e=i[t]).selector&&void 0!==e.init&&0<r(e.selector).length&&e.init()},header:{selector:".header",init:function(){r(this.selector);new IntersectionObserver(function(t){0===t[0].intersectionRatio?document.querySelector(".header").classList.add("fixed"):1===t[0].intersectionRatio&&document.querySelector(".header").classList.remove("fixed")},{threshold:[0,1]}).observe(document.querySelector(".header-placeholder"))}},mobileMenu:{selector:"#mobile-menu",init:function(){var t=r(this.selector);("thb-submenu"===t.data("behaviour")?t.find(".thb-mobile-menu li.menu-item-has-children>a"):t.find(".thb-mobile-menu li.menu-item-has-children>a>span")).on("click",function(t){var e=r(this),e=e.parents("a").length?e.parents("a"):e,i=e.next(".sub-menu");e.hasClass("active")?(e.removeClass("active"),i.slideUp("200")):(e.addClass("active"),i.slideDown("200")),t.stopPropagation(),t.preventDefault()})}},shopSidebar:{selector:".widget_tag_cloud .tag-link-count",init:function(){r(this.selector).each(function(){var t=(t=r.trim(r(this).html())).substring(1,t.length-1);r(this).html(t)})}},search_toggle:{selector:".thb-quick-search",searchTl:!1,init:function(){var t=r(this.selector),e=r(".thb-header-inline-search",c),i=r(".search-field",e);t.on("click",function(){return e.toggleClass("active"),setTimeout(function(){e.hasClass("active")&&i.get(0).focus()},100),!1}),o.keyup(function(t){27===t.keyCode&&e.removeClass("active")})}},shop_toggle:{selector:"#thb-shop-filters",init:function(){var t=r(this.selector),e=r(".thb-shop-filters");t.add(e.find(".thb-close")).on("click",function(){return s.toggleClass("open-filters"),!1}),o.on("keyup",function(t){27===t.keyCode&&s.removeClass("open-filters")})}},mobile_toggle:{selector:".mobile-toggle-holder",init:function(){r(this.selector).on("click",function(){return t.css("margin-top",function(){return c.outerHeight()+"px"}),s.toggleClass("open-cc"),s.toggleClass("open-menu"),!1}),o.on("keyup",function(t){27===t.keyCode&&(s.removeClass("open-cc"),s.removeClass("open-menu"))}),n.on("click",function(){return s.removeClass("open-cc"),s.removeClass("open-menu"),!1})}},quickCart:{selector:".thb-quick-cart",init:function(){var t=r(this.selector),e=r("#side-cart"),e=r(".thb-close",e);t.on("click",function(){return themeajax.settings.is_cart||themeajax.settings.is_checkout?i.location.href=themeajax.settings.cart_url:(s.addClass("open-cc"),s.addClass("open-cart")),s.removeClass("open-menu"),!1}),o.on("keyup",function(t){27===t.keyCode&&(s.removeClass("open-cc"),s.removeClass("open-cart"))}),n.add(e).on("click",function(){return s.removeClass("open-cc"),s.removeClass("open-cart"),!1})}},productAjaxAddtoCart:{selector:".thb-single-product-ajax-on.single-product .product-type-variable form.cart, .thb-single-product-ajax-on.single-product .product-type-simple form.cart",init:function(){var t=r(this.selector),i=r(".single_add_to_cart_button",t);"undefined"!=typeof wc_add_to_cart_params&&"yes"===wc_add_to_cart_params.cart_redirect_after_add||o.on("submit","body.single-product form.cart",function(t){t.preventDefault();var t=r(this),e=i.eq(0).text();i.is(".disabled")||i.is(".wc-variation-selection-needed")||(t={product_id:t.find("[name*='add-to-cart']").val(),product_variation_data:t.serialize()},r.ajax({method:"POST",data:t.product_variation_data,dataType:"html",url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","add-to-cart="+t.product_id+"&thb-ajax-add-to-cart=1"),cache:!1,headers:{"cache-control":"no-cache"},beforeSend:function(){a.trigger("adding_to_cart"),i.addClass("disabled").text(themeajax.l10n.adding_to_cart)},success:function(t){t=r.parseHTML(t),t={".thb-cart-amount":r(t).find(".thb-cart-amount").html(),".thb-cart-count":r(t).find(".thb-cart-count").html(),".thb_prod_ajax_to_cart_notices":r(t).find(".thb_prod_ajax_to_cart_notices").html(),".widget_shopping_cart_content":r(t).find(".widget_shopping_cart_content").html()};r.each(t,function(t,e){r(t).html(e)}),a.trigger("wc_fragments_refreshed"),i.removeClass("disabled").text(e)},error:function(t){a.trigger("wc_fragments_ajax_error"),i.removeClass("disabled").text(e)}}))})}},variations:{selector:"form.variations_form",init:function(){var t=r(this.selector),i=r("p.price",".product-information").eq(0),e=i.html();t.on("show_variation",function(t,e){e.price_html&&i.html(e.price_html)}).on("reset_image",function(){i.html(e)}),t.find(".single_variation").is(":visible")&&t.find(".single_variation .woocommerce-variation-price").html()&&i.html(t.find(".single_variation .woocommerce-variation-price").html())}},quantity:{selector:".quantity:not(.hidden)",init:function(){var t=this;r(t.selector);t.initialize(),a.on("updated_cart_totals",function(){t.initialize()})},initialize:function(){r("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<div class="plus"></div>').prepend('<div class="minus"></div>').end().find('input[type="number"]').attr("type","text"),r(".plus, .minus").on("click",function(){var t=r(this).closest(".quantity").find(".qty"),e=parseFloat(t.val()),i=parseFloat(t.attr("max")),o=parseFloat(t.attr("min")),a=t.attr("step");return e&&""!==e&&"NaN"!==e||(e=0),""!==i&&"NaN"!==i||(i=""),""!==o&&"NaN"!==o||(o=0),"any"!==a&&""!==a&&void 0!==a&&"NaN"!==parseFloat(a)||(a=1),r(this).is(".plus")?i&&(i===e||i<e)?t.val(i):t.val(e+parseFloat(a)):o&&(o===e||e<o)?t.val(o):0<e&&t.val(e-parseFloat(a)),t.trigger("change"),!1})}},shop:{selector:".products .product, .wc-block-grid__products .product",init:function(){var a,n;r(this.selector);r("body").on("adding_to_cart",function(t,e){e&&(a=e.closest(".product"),n=e.text(),e.text(themeajax.l10n.adding_to_cart))}).on("added_to_cart",function(t,e,i,o){o&&o.text(n);o=a.find(".woocommerce-loop-product__title a").text();r(".thb_prod_ajax_to_cart_notices").html('<div class="thb-temp-message">'+o+" "+themeajax.l10n.has_been_added+"</div>")})}},widget_nav_menu:{selector:".widget_nav_menu, .widget_pages, .widget_product_categories",init:function(){r(this.selector).find(".menu-item-has-children, .page_item_has_children, .cat-parent").each(function(){var t=r(this),e=r(">a",t),i=t.find(">.sub-menu, >.children");i.before('<div class="thb-arrow"><i class="thb-icon-down-open-mini"></i></div>'),r(".thb-arrow",t).on("click",function(t){var e=r(this).parents("li");e.hasClass("active")?(e.removeClass("active"),i.slideUp("200")):(e.addClass("active"),i.slideDown("200")),t.stopPropagation(),t.preventDefault()}),"#"===e.attr("href")&&e.on("click",function(t){var e=r(this),i=e.next(".sub-menu");e.hasClass("active")?(e.removeClass("active"),i.slideUp("200")):(e.addClass("active"),i.slideDown("200")),t.preventDefault()})})}},shopSidebar_widgets:{selector:".thb-shop-filters .widget",init:function(){r(this.selector).each(function(){r(this).find(">.thb-widget-title").append(r("<span/>"))})}},cart_totals:{selector:".woocommerce-cart .cart-collaterals h2",init:function(){r(this.selector).prependTo(".woocommerce-cart .cart-collaterals")}},cart_mobile_prices:{selector:".woocommerce-cart .shop_table td.product-price",init:function(){var t=this;t.update(),a.on("updated_cart_totals",function(){t.update()})},update:function(){r(this.selector).each(function(){var t=r(this),e=t.parents(".cart_item").find("td.product-name");t.find(".amount").clone().addClass("price-mobile").appendTo(e)})}},toTop:{selector:"#scroll_to_top",init:function(){var t=this;r(t.selector).on("click",function(){return r("html, body").animate({scrollTop:0},500),!1}),e.on("scroll",function(){t.control()})},control:function(){var t=r(this.selector);200<e.scrollTop()?t.addClass("active"):t.removeClass("active")}}},r(function(){l.init()})}(jQuery,this);